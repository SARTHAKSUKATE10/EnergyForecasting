{% extends "base.html" %}

{% block title %}Energy Consumption Dashboard{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>Energy Consumption Dashboard</h1>
        <p>Monitor energy trends and forecasts for smart cities</p>
    </div>

    <!-- üîπ Summary Statistics -->
    <div class="dashboard-stats">
        <div class="stat-card total-energy">
            <div class="stat-icon">‚ö°</div>
            <h3>Total Energy</h3>
            <p class="stat-value" id="totalEnergy">Loading...</p>
        </div>
        <div class="stat-card urban-energy">
            <div class="stat-icon">üèôÔ∏è</div>
            <h3>Urban Energy</h3>
            <p class="stat-value" id="urbanEnergy">Loading...</p>
        </div>
        <div class="stat-card rural-energy">
            <div class="stat-icon">üåæ</div>
            <h3>Rural Energy</h3>
            <p class="stat-value" id="ruralEnergy">Loading...</p>
        </div>
    </div>

    <!-- üîπ Month-wise Prediction Input -->
    <div class="month-selection">
        <label for="monthDropdown">Select Month:</label>
        <select id="monthDropdown">
            <option value="January">January</option>
            <option value="February">February</option>
            <option value="March">March</option>
            <option value="April">April</option>
            <option value="May">May</option>
            <option value="June">June</option>
            <option value="July">July</option>
            <option value="August">August</option>
            <option value="September">September</option>
            <option value="October">October</option>
            <option value="November">November</option>
            <option value="December">December</option>
        </select>
    </div>

    <!-- üîπ Graphs Section -->
    <div class="dashboard-graphs">
        <div class="graph-card">
            <h3>Monthly Energy Consumption</h3>
            <div class="graph-container">
                <canvas id="monthlyConsumptionChart"></canvas>
            </div>
        </div>
        <div class="graph-card">
            <h3>Sector-wise Energy Distribution</h3>
            <div class="graph-container">
                <canvas id="sectorDistributionChart"></canvas>
            </div>
        </div>
    </div>

    <!-- üîπ Alerts -->
    <div class="recent-alerts">
        <h2>Recent Insights</h2>
        <div class="alerts-grid">
            <div class="alert-card warning">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div class="alert-details">
                    <h4>High Consumption Alert</h4>
                    <p>Industrial sector exceeding expected limits</p>
                </div>
            </div>
            <div class="alert-card info">
                <div class="alert-icon">‚ÑπÔ∏è</div>
                <div class="alert-details">
                    <h4>Renewable Energy Growth</h4>
                    <p>35% of total energy now from renewables</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
