{% extends "base.html" %}

{% block title %}Home - Energy Forecasting{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}
<div class="home-container">
    <div class="hero-section">
        <div class="hero-content">
            <h1>⚡ Smart Energy Forecasting</h1>
            <p>Revolutionizing urban energy management through advanced predictive analytics</p>
        </div>
    </div>

    <div class="prediction-section">
        <div class="prediction-header">
            <h2>Energy Consumption Prediction</h2>
            <p>Fill in the details below to predict energy consumption:</p>
        </div>

        <form id="predictionForm" class="prediction-form">
            <div class="form-grid">
                <div class="input-group">
                    <label for="date">📅 Date</label>
                    <input type="date" id="date" name="date" required>
                </div>

                <div class="input-group">
                    <label for="season">🌦 Season</label>
                    <select id="season" name="season">
                        <option value="Summer">🌞 Summer</option>
                        <option value="Winter">❄️ Winter</option>
                        <option value="Monsoon">🌧 Monsoon</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="period">⏳ Period</label>
                    <select id="period" name="period">
                        <option value="Pre-lockdown">🔄 Pre-lockdown</option>
                        <option value="Post-lockdown">🔓 Post-lockdown</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="temp">🌡 Temperature (°C)</label>
                    <input type="number" id="temp" name="temp" step="0.1" required>
                </div>

                <div class="input-group">
                    <label for="rainfall">🌧 Rainfall (mm)</label>
                    <input type="number" id="rainfall" name="rainfall" step="0.1">
                </div>

                <div class="input-group">
                    <label for="humidity">💧 Humidity (%)</label>
                    <input type="number" id="humidity" name="humidity" step="0.1" required>
                </div>

                <div class="input-group">
                    <label for="population">👥 Population</label>
                    <input type="number" id="population" name="population" required>
                </div>

                <div class="input-group">
                    <label for="Festival">🎉 Festival</label>
                    <select id="Festival" name="Festival" required>
                        <option value="0">🚫 No Festival</option>
                        <option value="1">🎊 Festival Day</option>
                    </select>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit">⚡ Predict Energy Consumption</button>
            </div>
        </form>

        <div class="prediction-result">
            <h3>🔍 Prediction Result</h3>
            <div id="predictionOutput" class="output-box">
                Waiting for input...
            </div>
        </div>

        <div id="energyConsumptionResult" class="energy-consumption-result" style="display: none;">
            <div class="energy-section urban-energy">
                <div class="energy-total">
                    <span>Total Urban Energy</span>
                    <span id="urbanTotal" class="energy-total-value">0</span> kWh
                </div>
                <div class="energy-distribution">
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Household</span>
                        <span class="energy-distribution-item-value" id="urbanHousehold">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Industrial</span>
                        <span class="energy-distribution-item-value" id="urbanIndustrial">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Commercial</span>
                        <span class="energy-distribution-item-value" id="urbanCommercial">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Others</span>
                        <span class="energy-distribution-item-value" id="urbanOthers">0</span> kWh
                    </div>
                </div>
            </div>
            <div class="energy-section rural-energy">
                <div class="energy-total">
                    <span>Total Rural Energy</span>
                    <span id="ruralTotal" class="energy-total-value">0</span> kWh
                </div>
                <div class="energy-distribution">
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Household</span>
                        <span class="energy-distribution-item-value" id="ruralHousehold">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Industrial</span>
                        <span class="energy-distribution-item-value" id="ruralIndustrial">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Commercial</span>
                        <span class="energy-distribution-item-value" id="ruralCommercial">0</span> kWh
                    </div>
                    <div class="energy-distribution-item">
                        <span class="energy-distribution-item-label">Others</span>
                        <span class="energy-distribution-item-value" id="ruralOthers">0</span> kWh
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <div class="dashboard-section">
        <h2>Dashboard</h2>
        <div class="chart-container">
            <canvas id="totalEnergyTrendChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="sectorWiseDistributionChart"></canvas>
        </div>
    </div>

    <div class="features-section">
        <h2>Why Choose Our Energy Forecasting?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">🌍</div>
                <h3>Sustainable Solutions</h3>
                <p>Optimize energy consumption for a greener future</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📊</div>
                <h3>Advanced Analytics</h3>
                <p>Cutting-edge predictive modeling techniques</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🔮</div>
                <h3>Accurate Predictions</h3>
                <p>Machine learning algorithms with high precision</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🌐</div>
                <h3>Smart City Ready</h3>
                <p>Designed for urban energy management</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // JavaScript to initialize charts will be added here
</script>
{% endblock %}